<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Расчёт перехода (по ГОСТ)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Расчёт перехода (по ГОСТ)</h1>

    <label>Диаметр больший (мм):<br>
      <input type="number" id="dBig" value="159">
    </label>
    <label>Диаметр меньший (мм):<br>
      <input type="number" id="dSmall" value="108">
    </label>
    <label>Длина перехода (мм):<br>
      <input type="number" id="length" value="100">
    </label>
    <label>Толщина стенки (мм):<br>
      <input type="number" id="thickness" value="4">
    </label>
    <label>Слои грунтовки:<br>
      <input type="number" id="primer" value="1">
    </label>
    <label>Слои эмали:<br>
      <input type="number" id="enamel" value="1">
    </label>
    <label>Проходы растворителем:<br>
      <input type="number" id="solvent" value="1">
    </label>

    <button onclick="calculate()">Рассчитать</button>
    <div id="result" class="result"></div>
    <a href="index.html">← Назад</a>
  </div>

  <script>
    function calculate() {
      const D1 = parseFloat(document.getElementById("dBig").value);
      const D2 = parseFloat(document.getElementById("dSmall").value);
      const L = parseFloat(document.getElementById("length").value);
      const t = parseFloat(document.getElementById("thickness").value);
      const primer = parseInt(document.getElementById("primer").value) || 0;
      const enamel = parseInt(document.getElementById("enamel").value) || 0;
      const solvent = parseInt(document.getElementById("solvent").value) || 0;

      const D1in = D1 - 2 * t;
      const D2in = D2 - 2 * t;
      const avgD = ((D1 + D1in) + (D2 + D2in)) / 4;

      const s = Math.PI * avgD * L; // боковая поверхность конуса
      const s_m2 = s / 1_000_000;

      const primerGrams = s_m2 * 180 * primer;
      const enamelGrams = s_m2 * 100 * enamel;
      const solventGrams = s_m2 * 85 * solvent;

      document.getElementById("result").innerHTML = `
        <p>Средний диаметр: ${avgD.toFixed(1)} мм</p>
        <p>Площадь боковой поверхности: ${s.toFixed(2)} мм²</p>
        <p><strong>Итого: ${(s_m2).toFixed(4)} м²</strong></p>
        <p><strong>Расход грунтовки:</strong> ${primerGrams.toFixed(2)} г</p>
        <p><strong>Расход эмали:</strong> ${enamelGrams.toFixed(2)} г</p>
        <p><strong>Расход растворителя:</strong> ${solventGrams.toFixed(2)} г</p>
      `;
    }
  </script>
</body>
</html>
