<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Калькулятор труб ГОСТ</title>
  <link rel="stylesheet" href="style.css"/>
</head>
<body>
  <div class="container">
    <h1>Калькулятор труб по ГОСТ</h1>
    <form id="pipeForm">
      <label>Диаметр трубы (мм):
        <input type="number" id="diameter" required />
      </label>
      <label>Толщина стенки (мм):
        <input type="number" id="thickness" required />
      </label>
      <label>Длина (м):
        <input type="number" id="length" required />
      </label>
      <button type="submit">Рассчитать</button>
    </form>
    <div id="result"></div>
  </div>

  <script>
    document.getElementById('pipeForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const d = parseFloat(document.getElementById('diameter').value);
      const t = parseFloat(document.getElementById('thickness').value);
      const l = parseFloat(document.getElementById('length').value);

      if (t >= d / 2) {
        document.getElementById('result').innerHTML = '<p class="error">Ошибка: толщина стенки не может быть больше половины диаметра!</p>';
        return;
      }

      const pi = Math.PI;
      const outerVolume = pi * Math.pow(d / 1000 / 2, 2) * l;
      const innerVolume = pi * Math.pow((d - 2 * t) / 1000 / 2, 2) * l;
      const metalVolume = outerVolume - innerVolume;
      const density = 7850; // кг/м³
      const mass = metalVolume * density;

      document.getElementById('result').innerHTML = `
        <h3>Результат:</h3>
        <p>Объем металла: ${(metalVolume).toFixed(4)} м³</p>
        <p>Масса трубы: ${(mass).toFixed(2)} кг</p>
      `;
    });
  </script>
</body>
</html>
