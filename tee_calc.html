<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Расчёт тройника (по ГОСТ)</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="container">
    <h1>Расчёт тройника (по ГОСТ)</h1>
    <label>Диаметр основной трубы (мм):<br>
      <input type="number" id="mainDiameter" value="159">
    </label>
    <label>Диаметр ответвления (мм):<br>
      <input type="number" id="branchDiameter" value="108">
    </label>
    <label>Длина основной трубы (мм):<br>
      <input type="number" id="mainLength" value="200">
    </label>
    <label>Длина ответвления (мм):<br>
      <input type="number" id="branchLength" value="100">
    </label>
    <label>Толщина стенки (мм):<br>
      <input type="number" id="wallThickness" value="4">
    </label>
    <label>Слои грунтовки:<br>
      <input type="number" id="primerLayers" value="1">
    </label>
    <label>Слои эмали:<br>
      <input type="number" id="enamelLayers" value="1">
    </label>
    <label>Проходы растворителем:<br>
      <input type="number" id="solventPasses" value="1">
    </label>

    <button onclick="calculate()">Рассчитать</button>

    <div id="result" class="result"></div>
    <a href="index.html">← Назад</a>
  </div>

  <script>
    function calculate() {
      const d1 = parseFloat(document.getElementById("mainDiameter").value);
      const d2 = parseFloat(document.getElementById("branchDiameter").value);
      const L1 = parseFloat(document.getElementById("mainLength").value);
      const L2 = parseFloat(document.getElementById("branchLength").value);
      const t = parseFloat(document.getElementById("wallThickness").value);

      const primer = parseInt(document.getElementById("primerLayers").value) || 0;
      const enamel = parseInt(document.getElementById("enamelLayers").value) || 0;
      const solvent = parseInt(document.getElementById("solventPasses").value) || 0;

      const D1_in = d1 - 2 * t;
      const D2_in = d2 - 2 * t;

      const avgD1 = (d1 + D1_in) / 2;
      const avgD2 = (d2 + D2_in) / 2;

      const areaMain = Math.PI * avgD1 * L1;
      const areaBranch = Math.PI * avgD2 * L2;

      const totalAreaMM2 = areaMain + areaBranch;
      const totalAreaM2 = totalAreaMM2 / 1_000_000;

      const primerGrams = totalAreaM2 * 180 * primer;
      const enamelGrams = totalAreaM2 * 100 * enamel;
      const solventGrams = totalAreaM2 * 85 * solvent;

      document.getElementById("result").innerHTML = `
        <p>Площадь основной трубы: ${areaMain.toFixed(1)} мм²<br>
        Площадь ответвления: ${areaBranch.toFixed(1)} мм²<br>
        <strong>Суммарная площадь: ${totalAreaMM2.toFixed(1)} мм² / ${totalAreaM2.toFixed(4)} м²</strong></p>
        <p><strong>Расход грунтовки:</strong> ${primerGrams.toFixed(2)} г</p>
        <p><strong>Расход эмали:</strong> ${enamelGrams.toFixed(2)} г</p>
        <p><strong>Расход растворителя:</strong> ${solventGrams.toFixed(2)} г</p>
      `;
    }
  </script>
</body>
</html>
