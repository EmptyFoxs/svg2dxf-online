<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>ГОСТ Отводы</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="./style.css" />
</head>
<body>
  <div class="calculator">
    <h2>Расчёт боковой площади стальных отводов (ГОСТ)</h2>

    <label>Номинальный диаметр (мм):</label>
    <select id="dn" onchange="updateElbow()">
      <option value="57">57</option>
      <option value="76">76</option>
      <option value="89">89</option>
      <option value="108">108</option>
      <option value="133">133</option>
      <option value="159">159</option>
      <option value="219">219</option>
      <option value="273">273</option>
      <option value="325">325</option>
    </select>

    <label>Толщина стенки (мм):</label>
    <input type="number" id="thickness" step="0.1" oninput="calcElbow()">

    <label>Угол отвода (°):</label>
    <select id="angle" onchange="calcElbow()">
      <option value="30">30°</option>
      <option value="45">45°</option>
      <option value="60">60°</option>
      <option value="90" selected>90°</option>
    </select>

    <button onclick="calcElbow()">Рассчитать</button>

    <div class="result" id="result"></div>
    <a href="index.html">← Назад</a>
  </div>

  <script>
    const elbowThickness = {
      57: 2.5,
      76: 2.8,
      89: 3.0,
      108: 3.2,
      133: 3.5,
      159: 4.0,
      219: 4.5,
      273: 6.0,
      325: 7.0
    };

    function updateElbow() {
      const dn = document.getElementById('dn').value;
      document.getElementById('thickness').value = elbowThickness[dn] || '';
      calcElbow();
    }

    function calcElbow() {
      const dn = parseFloat(document.getElementById('dn').value);
      const angle = parseFloat(document.getElementById('angle').value);
      const thickness = parseFloat(document.getElementById('thickness').value);
      if (isNaN(dn) || isNaN(thickness)) return;

      const outerD = dn;
      const innerD = dn - 2 * thickness;
      const avgD = (outerD + innerD) / 2;
      const radius = avgD / 2;
      const arcLength = (Math.PI * radius * angle) / 180;
      const area = Math.PI * avgD * arcLength;

      document.getElementById('result').innerHTML = `
        Наружный диаметр: ${outerD.toFixed(1)} мм<br>
        Внутренний диаметр: ${innerD.toFixed(1)} мм<br>
        Средний диаметр: ${avgD.toFixed(1)} мм<br>
        Длина дуги: ${arcLength.toFixed(1)} мм<br>
        <strong>Площадь боковой поверхности: ${area.toFixed(2)} мм²</strong>
      `;
    }

    updateElbow();
  </script>
</body>
</html>
